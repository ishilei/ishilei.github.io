<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>使用Pelican和Github Pages搭建个人博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="ishilei">

    <!-- Le styles -->
    <link rel="stylesheet" href="../../../../theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="../../../../theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="../../../../theme/css/font-awesome.css" rel="stylesheet">

    <link href="../../../../theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="../../../../theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="../../../../theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../../../../theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../../../../theme/images/apple-touch-icon-114x114.png">

    <link href="../../../../" type="application/atom+xml" rel="alternate" title="地球太冷 ATOM Feed" />
    <link href="../../../../feeds/all.rss.xml" type="application/atom+xml" rel="alternate" title="地球太冷 RSS Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../../../../index.html">地球太冷 </a>
          <div class="nav-collapse">
            <ul class="nav">
                          <li class="divider-vertical"></li>
                  <li class="active">
                    <a href="../../../../category/jiao-cheng.html">
						<i class="icon-folder-open icon-large"></i>教程
					</a>
                  </li>
                  <li >
                    <a href="../../../../category/project.html">
						<i class="icon-folder-open icon-large"></i>project
					</a>
                  </li>
                  <li >
                    <a href="../../../../category/shi-pin-chuan-shu.html">
						<i class="icon-folder-open icon-large"></i>视频传输
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="../../../../archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
<section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to 使用Pelican和Github Pages搭建个人博客">
                                        使用Pelican和Github Pages搭建个人博客
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2014-11-03T19:44:00">
        <i class="icon-calendar"></i>2014-11-03
</abbr>
<span class="label">By</span>
<a href="../../../../author/shilei.html"><i class="icon-user"></i>shilei</a>
<span class="label">Category</span>
<a href="../../../../category/jiao-cheng.html"><i class="icon-folder-open"></i>教程</a>.


<span class="label">Tags</span>
	<a href="../../../../tag/github.html"><i class="icon-tag"></i>github</a>
</footer><!-- /.post-info -->                </div>
                <h5>前言</h5>
<p>近段时间有了想搭建个人博客的冲动，因此也看了不少利用<font color='red'>Pelican</font>和<font color='red'>Github Pages</font>搭建博客的教程，但是完全按照教程去做，总会出现一些教程中没有提到的问题。因此，把自己成功搭建的过程也分享一下。</p>
<h5>基础</h5>
<p>1.搭建博客之前最好掌握git的基本操作，这样会让你在搭建的时候少很多困惑，比如一些基本的git命令，知道它的作用会对搭建博客以及以后博客的更新起到很大的作用。在此强烈推荐progit，不需要看完整本书，只需要了解其基本的操作命令。电子版链接<a href="http://git-scm.com/book/zh/v1">progit</a></p>
<p>2.pelican和github可自行搜索相关资料进行了解。博客写作编辑器markdown自行学习1小时便能搞定。  </p>
<h5>安装环境</h5>
<p>ubuntu 14.04<br />
首先linux内核的版本就是利用git进行版本控制的，在ubuntu环境搭建基于github的博客系统个人感觉更加简单，更容易上手，用起来也更加方便，当然这得有linux环境操作基础。</p>
<h5>安装Pelican</h5>
<div class="highlight"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">pelican</span>
</pre></div>


<p>系统一般没有预装pip，因此需要先把pip安装了<br />
<code>apt-get install pip</code>  </p>
<h5>安装markdown</h5>
<div class="highlight"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">Markdown</span>
</pre></div>


<h5>创建blog目录</h5>
<div class="highlight"><pre><span class="n">mkdir</span> <span class="n">blog</span>
<span class="n">cd</span> <span class="n">blog</span>
</pre></div>


<h5>在blog目录下运行下面的命令</h5>
<div class="highlight"><pre><span class="n">pelican</span><span class="o">-</span><span class="n">quickstart</span>
</pre></div>


<p>运行此命令后会出现一系列提示，可一直按enter键默认设置，以后可以在pelicanconf.py文件中进行修改。然后会生成一系列文件和目录<br />
    content目录 存放输入的源文件，以后博客的.md源文件即存放在此目录<br />
    output 目录 存放生成的的输出文件<br />
    develop_server.sh 方便开启测试服务器<br />
    Makefile  方便管理博客的Makefile<br />
    pelicanconf.py 主配置文件<br />
    publishconf.py 发布时使用的配置文件</p>
<h5>写一篇简单的文章</h5>
<p>首先进入content目录，用markdown生成一个.md的文件,其中文件的内容为:<br />
    Data : 2014-11-3<br />
    Title : test<br />
    Tags : technology<br />
    Category : technology<br />
    Author: anyone</p>
<h5>生成html</h5>
<div class="highlight"><pre><span class="n">make</span> <span class="n">publish</span>
</pre></div>


<h5>github仓库的准备</h5>
<p>注册github，然后在Repositories下新建一个username.github.io的仓库，username是你github的用户名。</p>
<h5>在github上创建GitHub Pages</h5>
<p>进入blog目录下的output目录：<br />
<code>git init</code><br />
<code>git add .</code><br />
<code>git commit -m "first commit"</code><br />
<code>git remote add origin https://github.com/X/X.github.io.git</code><br />
<code>git push   origin master</code><br />
倒数第二条命令中的X即github的用户名。如果你已经看过progit的话，就知道这些命令具体做了什么。</p>
<h5>pelican主题</h5>
<p>选择自己喜欢的主题，比如要选择gum主题</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="o">:</span><span class="c1">//github.com/getpelican/pelican-themes.git</span>
<span class="n">cd</span> <span class="n">pelican</span><span class="o">-</span><span class="n">themes</span>
<span class="n">pelican</span><span class="o">-</span><span class="n">themes</span> <span class="o">-</span><span class="n">i</span> <span class="n">gum</span>
<span class="n">cd</span> <span class="n">blog</span>
<span class="n">vim</span> <span class="n">pelicanconf</span><span class="p">.</span><span class="n">py</span>
</pre></div>


<p>在pelicanconf中修改：  </p>
<div class="highlight"><pre><span class="n">THEME</span><span class="o">=</span><span class="err">&#39;</span><span class="n">gum</span><span class="err">&#39;</span>
</pre></div>


<h5>评论系统的添加</h5>
<p>可以去 <a href="https://disqus.com/admin/signup/">Disqus</a>申请账号，获得你的shortname。<br />
然后在pelicanconf.py中修改：</p>
<div class="highlight"><pre><span class="n">DISQUS_SITENAME</span> <span class="o">=</span> <span class="n">shortname</span>
</pre></div>


<h5>域名的绑定</h5>
<ol>
<li>首先买个域名。国内国外都有许多卖域名的网站。本人是在Godaddy上买的，支持支付宝支付。</li>
<li>将域名与GitHub Pages进行空间绑定。即在username.github.io的根目录下新建一个CNAME的文本文件，里面写入你要绑定的域名。比如我的CNAME文件中内容就是：www.ishilei.com</li>
<li>DNS的设置。推荐使用DNSpod,免费。<br />
<strong>这部分内容的在这篇链接<a href="http://blog.csdn.net/poem_of_sunshine/article/details/29369785">文章</a>中讲的非常详细,虽然它是用hexo进行搭建，但是域名这一块是完全相同的。</strong></li>
</ol>
<h5>关于博客的更新</h5>
<p>我看过的很多教程都没有这部分内容，因此使我这个小白花了不少时间去搞定这部分的问题。<br />
这里的问题是每次更新博客时，要执行<code>make publish</code>，而这个命令都会导致output目录下的.git目录文件被覆盖。这样就需要重新在output下执行<code>git init</code>命令。执行后续上传命令的时候还会发生各种问题，比如要求远端仓库与本地仓库合并等。<br />
解决方法是修改blog目录下的Makefile文件中publish这一行改为：  </p>
<div class="highlight"><pre><span class="nl">publish:</span>
<span class="err">$</span><span class="p">(</span><span class="n">PELICAN</span><span class="p">)</span> <span class="err">$</span><span class="p">(</span><span class="n">INPUTDIR</span><span class="p">)</span> <span class="o">-</span><span class="n">o</span> <span class="err">$</span><span class="p">(</span><span class="n">OUTPUTDIR</span><span class="p">)</span> <span class="o">-</span><span class="n">s</span> <span class="err">$</span><span class="p">(</span><span class="n">CONFFILE</span><span class="p">)</span> <span class="err">$</span><span class="p">(</span><span class="n">PELICANOPTS</span><span class="p">)</span>
</pre></div>


<p>以后博客的更新，执行<code>make publish</code>后，可以运行<code>./develop_server.sh start</code><br />
这样可以现在本地127.0.0.1:8000查看博客的效果<br />
确认博客已经修改完成则运行下面命令进行上传  </p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">add</span> <span class="p">.</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s">&quot;commit message&quot;</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>
                </div><!-- /.entry-content -->
                <div class="comments">
                <h2>Comments !</h2>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                           var disqus_identifier = "pages/2014/11/03/creat-blog.html";
                           (function() {
                                var dsq = document.createElement('script');
                                dsq.type = 'text/javascript'; dsq.async = true;
                                dsq.src = 'http://ishilei.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] ||
                                 document.getElementsByTagName('body')[0]).appendChild(dsq);
                          })();
                        </script>
                </div>
        </article>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-external-link"></i>blogroll</h4></li>
    <li><a href="https://www.google.com/ncr"><i class="icon-external-link"></i>Google</a></li>
    <li><a href="http://python.org/"><i class="icon-external-link"></i>Python</a></li>
    <li><a href="http://docs.getpelican.com/"><i class="icon-external-link"></i>Pelican</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<li><a href="../../../../" rel="alternate"><i class="icon-bookmark icon-large"></i>atom feed</a></li>
<li><a href="../../../../feeds/all.rss.xml" rel="alternate"><i class="icon-bookmark icon-large"></i>rss feed</a></li>
    <li><a href="https://github.com/ishilei"><i class="icon-Github-sign icon-large"></i>Github</a></li>
    <li><a href="http://weibo.com/2787160254/profile?topnav=1&wvr=6"><i class="icon-微博-sign icon-large"></i>微博</a></li>
    <li><a href="http://www.douban.com/people/78447170/"><i class="icon-豆瓣-sign icon-large"></i>豆瓣</a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="../../../../category/jiao-cheng.html">
    <i class="icon-folder-open icon-large"></i>教程
</a>
</li>
<li>
<a href="../../../../category/project.html">
    <i class="icon-folder-open icon-large"></i>project
</a>
</li>
<li>
<a href="../../../../category/shi-pin-chuan-shu.html">
    <i class="icon-folder-open icon-large"></i>视频传输
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>
<li class="tag-1">
    <a href="../../../../tag/project.html">
        <i class="icon-tag icon-large"></i>project
    </a>
</li>
<li class="tag-4">
    <a href="../../../../tag/github.html">
        <i class="icon-tag icon-large"></i>github
    </a>
</li>

<li class="nav-header"><h4><i class="icon-search"></i>Google Search</h4></li>
<div id="cse" style="width: 100%;">Loading</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript">
  google.load('search', '1');
  google.setOnLoadCallback(function() {
    var customSearchOptions = {};  var customSearchControl = new google.search.CustomSearchControl(
      '012191777864628038963:sjrtj5zxtec', customSearchOptions);
    customSearchControl.setResultSetSize(google.search.Search.SMALL_RESULTSET);
    customSearchControl.draw('cse');
  }, true);
</script>
<link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />

</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->

        <p>The theme is from <a href="http://twitter.github.com/bootstrap/">Bootstrap from Twitter <i class="icon-external-link"></i></a>,
                   and <a href="http://fortawesome.github.com/Font-Awesome/">Font-Awesome <i class="icon-external-link"></i></a>, thanks!</p>
      </footer>

    </div><!--/.fluid-container-->


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
	var pageTracker = _gat._getTracker("UA-42648273-1");
pageTracker._trackPageview();
} catch(err) {}</script>
<script type="text/javascript">
    var disqus_shortname = 'ishilei';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../../../theme/js/jquery-1.7.2.min.js"></script>
    <script src="../../../../theme/js/bootstrap.min.js"></script>
  </body>
</html>